function progSliderCalcPos(a,b){var c="true"===a.attr("data-progSlider-vertical")?!0:!1,d=c?1-(b.pageY-a.offset().top)/a.height():(b.pageX-a.offset().left)/a.width(),e=parseInt(a.attr("data-progSlider-max")*d,10);e<=a.attr("data-progSlider-max")&&e>=a.attr("data-progSlider-min")&&(a.children(".progSlider-progress").css(c?"height":"width",Math.floor(100*d)+"%"),a.trigger("onSlide",[e]))}
$("html").on("mouseup",function(){var a=$("[data-progSlider-drag=true]");0<a.length&&($("body, html").css({"-moz-user-select":"","-khtml-user-select":"","-webkit-user-select":"","user-select":""}),a.attr("data-progSlider-drag",!1).trigger("onSet",[a.getProgSlider()]))});$("html").on("mousemove",function(a){var b=$("[data-progSlider-drag=true]");0<b.length&&progSliderCalcPos(b,a)});
$.fn.extend({progSlider:function(a){var b={min:a&&a.min||0,max:a&&a.max||100,start:a&&a.start||50,handle:a&&a.handle||!1,onSlide:a&&a.onSlide,onSet:a&&a.onSet,onChange:a&&a.onChange};b.min=0>b.min?0:b.min;b.start=0>b.start?0:b.start;b.start=b.start>b.max?b.max:b.start;return this.each(function(){var c=$(this),d="true"===c.attr("data-progSlider")?!0:!1;b.vertical=a&&a.vertical||(c.height()>c.width()?!0:!1);d||c.html("").append("<div class='progSlider-progress'><div class='progSlider-handle'></div></div>");
c.children(".progSlider-progress").css(b.vertical?"height":"width",Math.floor(100*b.start/b.max)+"%");c.attr({"data-progSlider":!0,"data-progSlider-min":b.min,"data-progSlider-max":b.max,"data-progSlider-start":b.start,"data-progSlider-handle":b.handle,"data-progSlider-vertical":b.vertical});c.on("onSlide",function(a,d){if(b.onSlide)b.onSlide(d);b.onChange&&c.trigger("onChange",[d])});c.on("onSet",function(a,d){if(b.onSet)b.onSet(d);b.onChange&&c.trigger("onChange",[d])});c.on("onChange",function(a,
c){if(b.onChange)b.onChange(c)});if(!d)c.on("click",function(a){progSliderCalcPos($(this),a)});if(!d)c.on("mousedown",function(a){$("body, html").css({"-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","user-select":"none"});c.attr("data-progSlider-drag",!0)})})},setProgSlider:function(a,b){$(this).each(function(c,d){d=$(d);if("true"===d.attr("data-progSlider")){var e=d.attr("data-progSlider-max"),f="true"===d.attr("data-progSlider-vertical")?!0:!1;a=a<=e?a:e;d.children(".progSlider-progress").css(f?
"height":"width",Math.floor(100*a/e)+"%");!0===b&&d.trigger("onSet",[a])}})},getProgSlider:function(){var a=[];$(this).each(function(b,c){c=$(c);var d="true"===c.attr("data-progSlider-vertical")?c.children(".progSlider-progress").height()/c.height():c.children(".progSlider-progress").width()/c.width();a.push(parseInt(d*c.attr("data-progSlider-max"),10))});return 1===a.length?a[0]:a}});
