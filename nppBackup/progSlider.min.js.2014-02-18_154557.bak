function progSliderCalcPos(b,a){b.find(".progSlider-handle");var d="true"===b.attr("data-progSlider-vertical")?!0:!1,c=d?1-(a.pageY-b.offset().top)/b.height():(a.pageX-b.offset().left)/b.width(),e=parseInt(b.attr("data-progSlider-max")*c,10);e<=b.attr("data-progSlider-max")&&e>=b.attr("data-progSlider-min")&&b.children(".progSlider-progress").css(d?"height":"width",100*c+"%")&&b.trigger("change",[e])}$("html").on("mouseup",function(b){$("[data-progSlider=true]").attr("data-progSlider-drag",!1)}); $("html").on("mousemove",function(b){var a=$("[data-progSlider-drag=true]");0<a.length&&progSliderCalcPos(a,b)}); $.fn.extend({progSlider:function(b){var a={min:b&&b.min||0,max:b&&b.max||100,start:b&&b.start||50,change:b&&b.change};a.min=0>a.min?0:a.min;a.start=0>a.start?0:a.start;a.start=a.start>a.max?a.max:a.start;return this.each(function(){var d=$(this);a.vertical=b&&b.vertical||d.height()>d.width()?!0:!1;var c="true"===d.attr("data-progSlider")?!0:!1;!c&&d.html("").append("<div class='progSlider-progress'><div class='progSlider-handle'></div></div>");d.children(".progSlider-progress").css(a.vertical?"height": "width",100*a.start/a.max+"%");d.attr({"data-progSlider":!0,"data-progSlider-min":a.min,"data-progSlider-max":a.max,"data-progSlider-start":a.start,"data-progSlider-vertical":a.vertical});a.change&&d.on("change",function(b,c){a.change(c)});!c&&d.on("click",function(a){progSliderCalcPos($(this),a)});!c&&d.on("mousedown",function(a){d.attr("data-progSlider-drag",!0)})})},setProgSlider:function(b,a){$(this).each(function(d,c){c=$(c);if("true"===c.attr("data-progSlider")){var e=c.attr("data-progSlider-max"), f="true"===c.attr("data-progSlider-vertical")?!0:!1;b=b<=e?b:e;c.children(".progSlider-progress").css(f?"height":"width",100*b/e+"%");!0===a&&c.trigger("change",[b])}})},getProgSlider:function(b){var a=[];$(this).each(function(b,c){c=$(c);var e="true"===c.attr("data-progSlider-vertical")?c.children(".progSlider-progress").height()/c.height():c.children(".progSlider-progress").width()/c.width();a.push(parseInt(e*c.attr("data-progSlider-max"),10))});return 1===a.length?a[0]:a}});